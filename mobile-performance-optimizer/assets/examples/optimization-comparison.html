<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Performance Optimization Comparison</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        h1 {
            text-align: center;
            margin-bottom: 40px;
            color: #2c3e50;
        }
        
        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 50px;
        }
        
        @media (max-width: 768px) {
            .comparison {
                grid-template-columns: 1fr;
            }
        }
        
        .card {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .card h2 {
            margin-bottom: 20px;
            color: #34495e;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }
        
        .card h3 {
            margin: 15px 0 10px;
            color: #7f8c8d;
        }
        
        .metrics {
            margin: 20px 0;
        }
        
        .metric {
            display: flex;
            justify-content: space-between;
            margin: 10px 0;
            padding: 10px;
            background-color: #f8f9fa;
            border-radius: 4px;
        }
        
        .metric-label {
            font-weight: 600;
        }
        
        .metric-value {
            font-family: monospace;
        }
        
        .before .metric-value {
            color: #e74c3c;
        }
        
        .after .metric-value {
            color: #27ae60;
        }
        
        .code-example {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 4px;
            margin: 15px 0;
            overflow-x: auto;
        }
        
        pre {
            font-family: monospace;
            font-size: 14px;
            line-height: 1.4;
        }
        
        .feature-list {
            list-style-type: none;
            margin: 15px 0;
        }
        
        .feature-list li {
            margin: 8px 0;
            padding-left: 20px;
            position: relative;
        }
        
        .feature-list li:before {
            content: "â€¢";
            color: #3498db;
            font-weight: bold;
            position: absolute;
            left: 0;
        }
        
        .before {
            border-left: 4px solid #e74c3c;
        }
        
        .after {
            border-left: 4px solid #27ae60;
        }
        
        .section {
            margin: 40px 0;
        }
        
        .section h2 {
            margin-bottom: 20px;
            color: #2c3e50;
        }
        
        .summary {
            background-color: #e3f2fd;
            padding: 20px;
            border-radius: 8px;
            margin: 30px 0;
        }
        
        .summary h3 {
            margin-bottom: 10px;
            color: #1976d2;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Performance Optimization Comparison</h1>
        
        <div class="summary">
            <h3>Optimization Summary</h3>
            <p>This example demonstrates the impact of performance optimization techniques on mobile and desktop performance metrics. The left column shows the unoptimized version, while the right column shows the optimized version.</p>
        </div>
        
        <!-- Core Web Vitals Comparison -->
        <div class="section">
            <h2>Core Web Vitals Comparison</h2>
            <div class="comparison">
                <div class="card before">
                    <h2>Before Optimization</h2>
                    <div class="metrics">
                        <div class="metric">
                            <span class="metric-label">LCP (Largest Contentful Paint):</span>
                            <span class="metric-value">3.8s</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">FCP (First Contentful Paint):</span>
                            <span class="metric-value">2.5s</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">SI (Speed Index):</span>
                            <span class="metric-value">4.2s</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">TTFB (Time to First Byte):</span>
                            <span class="metric-value">0.9s</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Bundle Size:</span>
                            <span class="metric-value">450KB</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Image Size:</span>
                            <span class="metric-value">2.1MB</span>
                        </div>
                    </div>
                </div>
                
                <div class="card after">
                    <h2>After Optimization</h2>
                    <div class="metrics">
                        <div class="metric">
                            <span class="metric-label">LCP (Largest Contentful Paint):</span>
                            <span class="metric-value">1.9s</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">FCP (First Contentful Paint):</span>
                            <span class="metric-value">1.1s</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">SI (Speed Index):</span>
                            <span class="metric-value">2.3s</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">TTFB (Time to First Byte):</span>
                            <span class="metric-value">0.5s</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Bundle Size:</span>
                            <span class="metric-value">180KB</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Image Size:</span>
                            <span class="metric-value">0.6MB</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Image Optimization -->
        <div class="section">
            <h2>Image Optimization</h2>
            <div class="comparison">
                <div class="card before">
                    <h2>Before</h2>
                    <h3>Original Image Implementation</h3>
                    <div class="code-example">
                        <pre>&lt;!-- Unoptimized image --&gt;
&lt;img src="hero.jpg" alt="Hero image"&gt;

&lt;!-- No responsive sizing --&gt;
&lt;img src="product.jpg" alt="Product image"&gt;

&lt;!-- No lazy loading --&gt;
&lt;img src="gallery-1.jpg" alt="Gallery image 1"&gt;
&lt;img src="gallery-2.jpg" alt="Gallery image 2"&gt;
&lt;img src="gallery-3.jpg" alt="Gallery image 3"&gt;</pre>
                    </div>
                    <h3>Issues</h3>
                    <ul class="feature-list">
                        <li>Large file sizes (JPEG at 100% quality)</li>
                        <li>No responsive sizing (same image for all devices)</li>
                        <li>No lazy loading (all images load immediately)</li>
                        <li>No modern formats (only JPEG)</li>
                    </ul>
                </div>
                
                <div class="card after">
                    <h2>After</h2>
                    <h3>Optimized Image Implementation</h3>
                    <div class="code-example">
                        <pre>&lt;!-- Responsive image with WebP fallback --&gt;
&lt;picture&gt;
    &lt;source media="(max-width: 768px)" srcset="hero-small.webp" type="image/webp"&gt;
    &lt;source media="(max-width: 768px)" srcset="hero-small.jpg"&gt;
    &lt;source srcset="hero-large.webp" type="image/webp"&gt;
    &lt;img src="hero-large.jpg" alt="Hero image" width="1200" height="600" loading="lazy"&gt;
&lt;/picture&gt;

&lt;!-- Responsive sizing with srcset --&gt;
&lt;img 
    src="product-small.jpg" 
    srcset="product-small.jpg 480w, product-medium.jpg 768w, product-large.jpg 1200w" 
    sizes="(max-width: 768px) 100vw, 50vw" 
    alt="Product image" 
    loading="lazy"
&gt;

&lt;!-- Lazy loading for gallery --&gt;
&lt;img src="gallery-1.jpg" alt="Gallery image 1" loading="lazy"&gt;
&lt;img src="gallery-2.jpg" alt="Gallery image 2" loading="lazy"&gt;
&lt;img src="gallery-3.jpg" alt="Gallery image 3" loading="lazy"&gt;</pre>
                    </div>
                    <h3>Optimizations</h3>
                    <ul class="feature-list">
                        <li>WebP format with JPEG fallback</li>
                        <li>Responsive sizing with srcset and sizes</li>
                        <li>Native lazy loading</li>
                        <li>Appropriate compression levels</li>
                        <li>Responsive images for different screen sizes</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <!-- CSS Optimization -->
        <div class="section">
            <h2>CSS Optimization</h2>
            <div class="comparison">
                <div class="card before">
                    <h2>Before</h2>
                    <h3>Original CSS Implementation</h3>
                    <div class="code-example">
                        <pre>&lt;!-- Unoptimized CSS --&gt;
&lt;link rel="stylesheet" href="styles.css"&gt;
&lt;link rel="stylesheet" href="vendor.css"&gt;
&lt;link rel="stylesheet" href="responsive.css"&gt;

/* styles.css (50KB) */
body {
    font-family: 'CustomFont', sans-serif;
    /* Lots of unused styles */
}

/* Many deep selectors */
.header .nav .menu .item {
    /* Styles */
}

/* No critical CSS extraction */</pre>
                    </div>
                    <h3>Issues</h3>
                    <ul class="feature-list">
                        <li>Multiple CSS files (HTTP requests)</li>
                        <li>No critical CSS extraction</li>
                        <li>Unused CSS (bloat)</li>
                        <li>Deep CSS selectors</li>
                        <li>No minification</li>
                    </ul>
                </div>
                
                <div class="card after">
                    <h2>After</h2>
                    <h3>Optimized CSS Implementation</h3>
                    <div class="code-example">
                        <pre>&lt;!-- Critical CSS inline --&gt;
&lt;style&gt;
    /* Critical above-the-fold styles */
    body {
        font-family: 'CustomFont', sans-serif;
    }
    
    .header {
        /* Critical header styles */
    }
    
    .hero {
        /* Critical hero styles */
    }
&lt;/style&gt;

&lt;!-- Deferred non-critical CSS --&gt;
&lt;link rel="stylesheet" href="styles.min.css" media="print" onload="this.media='all'"&gt;

/* styles.min.css (20KB, minified and compressed) */
/* Optimized selectors */
.header-nav-item {
    /* Styles */
}

/* CSS variables for consistency */
:root {
    --primary-color: #3498db;
    --secondary-color: #2ecc71;
}

/* Minified and compressed */</pre>
                    </div>
                    <h3>Optimizations</h3>
                    <ul class="feature-list">
                        <li>Inline critical CSS</li>
                        <li>Defer non-critical CSS</li>
                        <li>Remove unused CSS</li>
                        <li>Optimize CSS selectors</li>
                        <li>Minify and compress CSS</li>
                        <li>Use CSS variables</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <!-- JavaScript Optimization -->
        <div class="section">
            <h2>JavaScript Optimization</h2>
            <div class="comparison">
                <div class="card before">
                    <h2>Before</h2>
                    <h3>Original JavaScript Implementation</h3>
                    <div class="code-example">
                        <pre>&lt;!-- Unoptimized JavaScript --&gt;
&lt;script src="jquery.js"&gt;&lt;/script&gt;
&lt;script src="bootstrap.js"&gt;&lt;/script&gt;
&lt;script src="app.js"&gt;&lt;/script&gt;
&lt;script src="analytics.js"&gt;&lt;/script&gt;

// app.js (300KB)
// All code in one file
import _ from 'lodash'; // Full library
import moment from 'moment'; // Full library

// No code splitting
function initApp() {
    // All initialization code
}

initApp();</pre>
                    </div>
                    <h3>Issues</h3>
                    <ul class="feature-list">
                        <li>Multiple JavaScript files (HTTP requests)</li>
                        <li>No code splitting</li>
                        <li>Full library imports (tree shaking not used)</li>
                        <li>No async/defer attributes</li>
                        <li>No minification</li>
                    </ul>
                </div>
                
                <div class="card after">
                    <h2>After</h2>
                    <h3>Optimized JavaScript Implementation</h3>
                    <div class="code-example">
                        <pre>&lt;!-- Optimized JavaScript --&gt;
&lt;script src="app.min.js" defer&gt;&lt;/script&gt;
&lt;script src="analytics.js" async&gt;&lt;/script&gt;

// app.min.js (120KB, minified and compressed)
// Code splitting
const LazyComponent = React.lazy(() => import('./LazyComponent'));

// Tree-shaken imports
import { debounce } from 'lodash-es';
import moment from 'moment/moment';

// Deferred initialization
function initCritical() {
    // Critical initialization code
}

function initNonCritical() {
    // Non-critical initialization code
}

initCritical();

// Load non-critical code after page load
window.addEventListener('load', initNonCritical);</pre>
                    </div>
                    <h3>Optimizations</h3>
                    <ul class="feature-list">
                        <li>Code splitting (route-based)</li>
                        <li>Tree-shaken imports</li>
                        <li>Async/defer attributes</li>
                        <li>Minification and compression</li>
                        <li>Deferred non-critical code</li>
                        <li>Bundle analysis and optimization</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <!-- Server-Side Optimization -->
        <div class="section">
            <h2>Server-Side Optimization</h2>
            <div class="comparison">
                <div class="card before">
                    <h2>Before</h2>
                    <h3>Original Server Configuration</h3>
                    <div class="code-example">
                        <pre># Apache configuration
&lt;VirtualHost *:80&gt;
    ServerName example.com
    DocumentRoot /var/www/html
    
    # No compression
    # No caching
    # No HTTP/2
&lt;/VirtualHost&gt;

# No CDN
# No server-side caching
# No database optimization</pre>
                    </div>
                    <h3>Issues</h3>
                    <ul class="feature-list">
                        <li>No compression (gzip/brotli)</li>
                        <li>No HTTP caching</li>
                        <li>No HTTP/2</li>
                        <li>No CDN</li>
                        <li>No server-side caching</li>
                        <li>No database optimization</li>
                    </ul>
                </div>
                
                <div class="card after">
                    <h2>After</h2>
                    <h3>Optimized Server Configuration</h3>
                    <div class="code-example">
                        <pre># Apache configuration
&lt;VirtualHost *:80&gt;
    ServerName example.com
    DocumentRoot /var/www/html
    
    # Enable compression
    AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css application/javascript application/json
    
    # Enable HTTP caching
    &lt;FilesMatch "\.(ico|pdf|jpg|jpeg|png|gif|js|css|swf)$"&gt;
        Header set Cache-Control "max-age=604800, public"
    &lt;/FilesMatch&gt;
    
    # Enable HTTP/2
    Protocols h2 http/1.1
&lt;/VirtualHost&gt;

# CDN implementation
# Server-side caching (Redis)
# Database optimization (indexes, query optimization)</pre>
                    </div>
                    <h3>Optimizations</h3>
                    <ul class="feature-list">
                        <li>Enable gzip/brotli compression</li>
                        <li>HTTP caching headers</li>
                        <li>HTTP/2 enabled</li>
                        <li>CDN implementation</li>
                        <li>Server-side caching (Redis)</li>
                        <li>Database optimization</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <!-- Results Summary -->
        <div class="section">
            <h2>Results Summary</h2>
            <div class="summary">
                <h3>Performance Improvements</h3>
                <ul class="feature-list">
                    <li><strong>LCP improved by 50%:</strong> From 3.8s to 1.9s</li>
                    <li><strong>FCP improved by 56%:</strong> From 2.5s to 1.1s</li>
                    <li><strong>SI improved by 45%:</strong> From 4.2s to 2.3s</li>
                    <li><strong>Bundle size reduced by 60%:</strong> From 450KB to 180KB</li>
                    <li><strong>Image size reduced by 71%:</strong> From 2.1MB to 0.6MB</li>
                    <li><strong>TTFB improved by 44%:</strong> From 0.9s to 0.5s</li>
                </ul>
                
                <h3>Business Impact</h3>
                <ul class="feature-list">
                    <li><strong>20% increase in conversion rate</strong> due to faster load times</li>
                    <li><strong>15% decrease in bounce rate</strong> as users wait less</li>
                    <li><strong>30% reduction in bandwidth costs</strong> due to optimized assets</li>
                    <li><strong>Improved search engine rankings</strong> due to better Core Web Vitals</li>
                    <li><strong>Increased user satisfaction</strong> across all devices</li>
                </ul>
            </div>
        </div>
    </div>
</body>
</html>